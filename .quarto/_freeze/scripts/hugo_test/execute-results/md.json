{
  "hash": "b5cd8024e1c8b00db85f079f3d1d3aef",
  "result": {
    "engine": "knitr",
    "markdown": "---\nmeta_title: \"link from MD quarto FRESH FRESHY\"\ntitle: link from MD quarto FRESH FRESHY\ndescription: \"A quick analysis of the penguin dataset\"\ndate: 2024-09-16\nimage: \"/asset/culmen_depth.png\"\ncategories: [\"Data Science\"]\nauthor: \"John Doe\"\ntags: [\"R\", \"penguins\"]\ndraft: false\n\nformat: \n  hugo-md: \n    variant: gfm \n    output-ext: md \n    keep-yaml: true\n---\n\n## Introduction\n\nThis document offers a straightforward analysis of the well-known penguin dataset. It is designed to complement the [Productive R Workflow](https://www.productive-r-workflow.com) online course.\n\nYou can read more about the penguin dataset [here](https://allisonhorst.github.io/palmerpenguins/).\n\nLet's load libraries before we start!\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load the tidyverse\npacman::p_load(tidyverse,\n  patchwork,\n  knitr)     # combine charts together\n```\n:::\n\n\n\n## Loading data\n\nThe dataset has already been loaded and cleaned in the previous step of this pipeline.\n\nLet's load the clean version, together with a few functions available in `functions.R`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Source functions\n\n# Read the clean dataset\ndata <- readRDS(file = \"../01_input/data_pengvin.rds\")\n```\n:::\n\n\n\n![Bill measurement explanation](asset/culmen_depth.png){width=300 fig.cap=\"Bill measurement explanation\"}\n\n\n\n\n## Bill Length and Bill Depth\n\nNow, let's make some descriptive analysis, including <b>summary statistics</b> and <b>graphs</b>.\n\nWhat's striking is the <b>slightly negative relationship</b> between `bill length` and `bill depth`:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# {r, fig.align = \"center\", fig.width=5, fig.height=5, warning=FALSE, fig.cap=\"Relationship between bill <b>length</b> and bill <b>depth</b>. <b>All</b> data points included.\"}\n\ndata %>%\n  ggplot(aes(x = bill_length_mm, y = bill_depth_mm)) +\n    geom_point(color = \"#69b3a2\") +\n    labs(\n      x = \"Bill Length (mm)\",\n      y = \"Bill Depth (mm)\",\n      title = \"Surprising relationship?\"\n    ) +\n    theme(\n      legend.position = \"none\",\n      panel.background = element_rect(fill = 'transparent', color = NA),\n      plot.background  = element_rect(fill = 'transparent', color = NA),\n      panel.grid.major = element_blank(),\n      panel.grid.minor = element_blank(),\n      axis.line = element_line(color = \"black\", size = 0.5), # draws x and y axis lines only\n      legend.background = element_rect(fill='transparent'),\n      legend.box.background = element_rect(fill='transparent')\n    )\n```\n\n::: {.cell-output-display}\n![Relationship between bill <b>length</b> and bill <b>depth</b>.<br><b>All</b> data points included.](hugo_test.markdown_strict_files/figure-markdown_strict/unnamed-chunk-2-1.png){fig-align='center' width=480}\n:::\n:::\n\n\nIt is also interesting to note that `bill length` a and `bill depth` are quite different from one specie to another. This is summarized in the 2 tables below:\n\n## one columna\n<!-- table1:start -->\n::: {style=\"display: flex; gap: 50px; flex-wrap: wrap; justify-content: center; text-align: center; width: 100px; padding: 100px;\"}\n::: {.columns}\n### Average Bill Dimensions by Species\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 2\n  species   average_bill_length\n  <chr>                   <dbl>\n1 Adelie                   38.8\n2 Chinstrap                48.8\n3 Gentoo                   47.5\n```\n\n\n:::\n:::\n\n:::\n:::\n<!-- table1:end -->\n\n\n\n## Two columnas\n\n<!-- table2:start -->\n::: {.columns}\n\n::: {.column width=\"50%\"}\n### Average Bill Dimensions by Species\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 2\n  species   average_bill_length\n  <chr>                   <dbl>\n1 Adelie                   38.8\n2 Chinstrap                48.8\n3 Gentoo                   47.5\n```\n\n\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n### Average bill depth by species\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 2\n  species   average_bill_depth\n  <chr>                  <dbl>\n1 Adelie                  18.3\n2 Chinstrap               18.4\n3 Gentoo                  15.0\n```\n\n\n:::\n:::\n\n:::\n\n:::\n<!-- table2:end -->\n\n\nNow, let's check the relationship between bill depth and bill length for the specie `Adelie` on the island `Torgersen`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncreate_scatterplot <- function(data, selected_species, color) {\n  # Filter the data for the specified species and island\n  filtered_data <- data %>%\n    na.omit() %>%\n    filter(species == selected_species)\n  \n  # Create the scatterplot\n  plot <- ggplot(\n    filtered_data,\n    aes(x = bill_length_mm, y = bill_depth_mm)\n  ) +\n    geom_point(color=color) +\n    labs(\n      x = \"Bill Length (mm)\",\n      y = \"Bill Depth (mm)\",\n      title = selected_species\n    )  +\n    theme(\n      legend.position = \"none\",\n      panel.background = element_rect(fill = 'transparent', color = NA),\n      plot.background  = element_rect(fill = 'transparent', color = NA),\n      panel.grid.major = element_blank(),\n      panel.grid.minor = element_blank(),\n      axis.line = element_line(color = \"black\", size = 0.5), # draws x and y axis lines only\n      legend.background = element_rect(fill='transparent'),\n      legend.box.background = element_rect(fill='transparent')\n    )\n  \n  return(plot)\n\n}\n\n# Use the function in functions.R\np1 <- create_scatterplot(data, \"Adelie\", \"#6689c6\")\np2 <- create_scatterplot(data, \"Chinstrap\", \"#e85252\")\np3 <- create_scatterplot(data, \"Gentoo\", \"#9a6fb0\")\n\ntest <- p1 + p2 + p3 \n\ntest  & theme(plot.background = element_rect(fill='transparent', color=NA))\n```\n\n::: {.cell-output-display}\n![There is actually a positive correlation when split by species.](hugo_test.markdown_strict_files/figure-markdown_strict/unnamed-chunk-6-1.png){width=864}\n:::\n:::\n\n\n\n",
    "supporting": [
      "hugo_test.markdown_strict_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}